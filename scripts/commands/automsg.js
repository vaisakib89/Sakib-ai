const moment = require("moment-timezone");

module.exports.config = {
  name: "autotime",
  version: "1.0.0",
  permission: 0,
  credits: "IMRAN",
  description: "Automatic time-based messages",
  prefix: true,
  category: "user",
  usages: "",
  cooldowns: 5,
  dependencies: {
    "moment-timezone": ""
  }
};

const nam = [
  { timer: '12:00AM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§§à§¨à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦–à¦¾à¦‰à§Ÿà¦¾ à¦¦à¦¾à¦‰à§Ÿà¦¾ à¦•à¦°à§‡ à¦¨à§‡à¦‰ğŸ˜™'] },
  { timer: '1:00AM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§§à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦¸à¦¬à¦¾à¦‡ à¦¶à§à§Ÿà§‡ à¦ªà§œà§‹ğŸ¤Ÿ'] },
  { timer: '2:00AM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§¨à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦ªà§à¦°à§‡à¦® à¦¨à¦¾ à¦•à¦‡à¦°à¦¾ à¦¯à¦¾à¦‡à§Ÿà¦¾ à¦˜à§à¦®à¦¾ à¦¬à§‡à¦•à§à¦•à¦²ğŸ˜¾'] },
  { timer: '3:00AM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§©à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦¯à¦¾à¦°à¦¾ à¦›à§à¦¯à¦¾à¦•à¦¾ à¦–à¦¾à¦‡à¦›à§‡ à¦¤à¦¾à¦°à¦¾ à¦œà§‡à¦—à§‡ à¦†à¦›à§‡ğŸ« '] },
  { timer: '4:00AM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§ªà¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦«à¦œà¦°à§‡à¦° à¦ªà§à¦°à¦¸à§à¦¤à§à¦¤à¦¿ à¦¨à¦¾à¦“'] },
  { timer: '5:00AM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦¸à¦•à¦¾à¦² à§«à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦¨à¦¾à¦®à¦¾à¦œ à¦ªà§œà¦›à§‹ à¦¤à§‹?â¤ï¸'] },
  { timer: '6:00AM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦¸à¦•à¦¾à¦² à§¬à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦˜à§à¦® à¦¥à§‡à¦•à§‡ à¦‰à¦ à§‹ à¦¸à¦¬à¦¾à¦‡'] },
  { timer: '7:00AM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦¸à¦•à¦¾à¦² à§­à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦¬à§à¦°à§‡à¦•à¦«à¦¾à¦¸à§à¦Ÿ à¦•à¦°à§‡ à¦¨à¦¾à¦“ğŸ˜Š'] },
  { timer: '8:00AM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦¸à¦•à¦¾à¦² à§®à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦•à¦¾à¦œ à¦¶à§à¦°à§ à¦•à¦°à§‹ à¦®à¦¨ à¦¦à¦¿à§Ÿà§‡â¤ï¸'] },
  { timer: '9:00AM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦¸à¦•à¦¾à¦² à§¯à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦šà¦² à¦•à¦¾à¦œà§‡ à¦®à¦¨ à¦¦à¦¿à¦‡!'] },
  { timer: '10:00AM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦¸à¦•à¦¾à¦² à§§à§¦à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦¤à§‹à¦®à¦¾à¦¦à§‡à¦° à¦®à¦¿à¦¸ à¦•à¦°à¦›à¦¿'] },
  { timer: '11:00AM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦¸à¦•à¦¾à¦² à§§à§§à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦•à¦¾à¦œ à¦šà¦¾à¦²à¦¿à§Ÿà§‡ à¦¯à¦¾à¦“!'] },
  { timer: '12:00PM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦¦à§à¦ªà§à¦° à§§à§¨à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à¦¾ à¦œà¦¾à¦¨à¦¾à¦“ à¦¸à¦¬à¦¾à¦‡à¦•à§‡â¤ï¸'] },
  { timer: '1:00PM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦¦à§à¦ªà§à¦° à§§à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦œà§‹à¦¹à¦°à§‡à¦° à¦¨à¦¾à¦®à¦¾à¦œ à¦ªà§œà§‡ à¦¨à¦¾à¦“ğŸ˜»'] },
  { timer: '2:00PM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦¦à§à¦ªà§à¦° à§¨à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦¦à§à¦ªà§à¦°à§‡à¦° à¦–à¦¾à¦¬à¦¾à¦° à¦–à§‡à§Ÿà§‡à¦›à§‹ à¦¤à§‹?'] },
  { timer: '3:00PM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦¬à¦¿à¦•à¦¾à¦² à§©à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦•à¦¾à¦œà§‡ à¦«à§‹à¦•à¦¾à¦¸ à¦•à¦°à§‹'] },
  { timer: '4:00PM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦¬à¦¿à¦•à¦¾à¦² à§ªà¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦†à¦¸à¦°à§‡à¦° à¦¨à¦¾à¦®à¦¾à¦œ à¦ªà§œà§‡ à¦¨à¦¾à¦“ğŸ¥€'] },
  { timer: '5:00PM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦¬à¦¿à¦•à¦¾à¦² à§«à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦à¦•à¦Ÿà§ à¦¬à¦¿à¦¶à§à¦°à¦¾à¦® à¦¨à¦¾à¦“'] },
  { timer: '6:00PM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦¸à¦¨à§à¦§à§à¦¯à¦¾ à§¬à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦ªà¦°à¦¿à¦¬à¦¾à¦°à¦•à§‡ à¦¸à¦®à§Ÿ à¦¦à¦¾à¦“ğŸ˜'] },
  { timer: '7:00PM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦¸à¦¨à§à¦§à§à¦¯à¦¾ à§­à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦à¦¶à¦¾à¦° à¦¨à¦¾à¦®à¦¾à¦œ à¦ªà§œà§‹â¤ï¸'] },
  { timer: '8:00PM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§®à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦†à¦œà¦•à§‡à¦° à¦•à¦¾à¦œ à¦¶à§‡à¦· à¦•à¦°à§‹'] },
  { timer: '9:00PM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§¯à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦˜à§à¦®à§‡à¦° à¦ªà§à¦°à¦¸à§à¦¤à§à¦¤à¦¿ à¦¨à¦¾à¦“'] },
  { timer: '10:00PM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§§à§¦à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦˜à§à¦®à¦¾à¦¤à§‡ à¦¯à¦¾à¦“, à¦¸à§à¦¬à¦ªà§à¦¨à§‡ à¦¦à§‡à¦–à¦¾ à¦¹à¦¬à§‡'] },
  { timer: '11:00PM', message: ['âŒšâ”†à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§§à§§à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡\nâ¥ï¸à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à¦¾ à¦°à¦‡à¦²à§‹ ğŸ˜´'] }
];

module.exports.onLoad = function ({ api }) {
  setInterval(() => {
    const currentTime = moment().tz("Asia/Dhaka").format("h:mmA"); // e.g., "1:00AM"
    const match = nam.find(entry => entry.timer === currentTime);

    if (match) {
      const msg = match.message[Math.floor(Math.random() * match.message.length)];
      //const styled = `â•­â”€âŒ˜â”€âŒ¯à¼Šà§¡à§¢Í¡Íœâœ¦\nâ”‚ ${msg}\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€âŒ˜`;
        const styled = `â™¡ï¸â¯Í¢â¯âƒğŸ©· ${msg}â™¡ï¸â¯Í¢`;

      for (const threadID of global.data.allThreadID) {
        api.sendMessage(styled, threadID);
      }
    }
  }, 60000); // check every 1 minute
};

module.exports.run = function () {};
